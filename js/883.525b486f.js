"use strict";(self["webpackChunkreal_estate_app"]=self["webpackChunkreal_estate_app"]||[]).push([[883],{6883:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var r=o(6768),l=o(5130),s=o(4232);const a={class:"container py-5"},n={class:"text-start mb-3"},i={class:"card p-4 shadow-sm mx-auto",style:{"max-width":"600px"}},c={class:"mb-3"},p={class:"mb-3"},u={class:"mb-3"},m={class:"mb-3"},d={class:"mb-3"},b={key:0,class:"alert alert-danger"},f={key:1,class:"alert alert-success"};function k(e,t,o,k,L,h){const y=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",a,[t[15]||(t[15]=(0,r.Lk)("h2",{class:"fw-bold mb-4 text-center"},"Add New Property Listing",-1)),(0,r.Lk)("div",n,[(0,r.bF)(y,{to:"/manage-listings",class:"btn btn-outline-secondary rounded-pill px-4"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)(" ← Back to Manage Listings ")]))),_:1})]),(0,r.Lk)("div",i,[(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,l.D$)(((...e)=>h.submitForm&&h.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",c,[t[7]||(t[7]=(0,r.Lk)("label",{class:"form-label"},"Title",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>L.form.title=e),class:"form-control",required:""},null,512),[[l.Jo,L.form.title]])]),(0,r.Lk)("div",p,[t[9]||(t[9]=(0,r.Lk)("label",{class:"form-label"},"Location",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>L.form.location=e),class:"form-select",required:""},t[8]||(t[8]=[(0,r.Lk)("option",{value:""},"Select location",-1),(0,r.Lk)("option",null,"Melbourne",-1),(0,r.Lk)("option",null,"Sydney",-1),(0,r.Lk)("option",null,"Brisbane",-1)]),512),[[l.u1,L.form.location]])]),(0,r.Lk)("div",u,[t[11]||(t[11]=(0,r.Lk)("label",{class:"form-label"},"Type",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>L.form.type=e),class:"form-select",required:""},t[10]||(t[10]=[(0,r.Lk)("option",{value:""},"Select type",-1),(0,r.Lk)("option",null,"Villa",-1),(0,r.Lk)("option",null,"Apartment",-1),(0,r.Lk)("option",null,"House",-1)]),512),[[l.u1,L.form.type]])]),(0,r.Lk)("div",m,[t[12]||(t[12]=(0,r.Lk)("label",{class:"form-label"},"Price",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>L.form.price=e),class:"form-control",required:""},null,512),[[l.Jo,L.form.price]])]),(0,r.Lk)("div",d,[t[13]||(t[13]=(0,r.Lk)("label",{class:"form-label"},"Image Filename",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>L.form.image=e),class:"form-control",placeholder:"e.g., house1.png",required:""},null,512),[[l.Jo,L.form.image]])]),L.error?((0,r.uX)(),(0,r.CE)("div",b,(0,s.v_)(L.error),1)):(0,r.Q3)("",!0),L.success?((0,r.uX)(),(0,r.CE)("div",f,"Property added successfully!")):(0,r.Q3)("",!0),t[14]||(t[14]=(0,r.Lk)("div",{class:"text-end"},[(0,r.Lk)("button",{type:"submit",class:"btn btn-primary rounded-pill px-4"},"Add Property")],-1))],32)])])}o(4114);var L={name:"CreateProperty",data(){return{form:{title:"",location:"",type:"",price:"",image:""},error:"",success:!1}},methods:{submitForm(){this.error="",this.success=!1;const e=new FormData;e.append("title",this.form.title),e.append("location",this.form.location),e.append("type",this.form.type),e.append("price",this.form.price),e.append("image",this.form.image),fetch("https://mercury.swin.edu.au/cos30043/s104471956/FinalProject/php/create_property.php",{method:"POST",body:e}).then((e=>e.json())).then((e=>{e.success?(this.success=!0,setTimeout((()=>{this.$router.push("/manage-listings")}),1200)):this.error=e.error||"Submission failed."})).catch((e=>{console.error(e),this.error="Server error. Please try again."}))}}},h=o(1241);const y=(0,h.A)(L,[["render",k],["__scopeId","data-v-aab9d47a"]]);var v=y}}]);
//# sourceMappingURL=883.525b486f.js.map